{"remainingRequest":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zachjohnson/Desktop/Projects/Committed Unity/src/components/MeetingRSVP.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/src/components/MeetingRSVP.vue","mtime":1699554717791},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/babel-loader/lib/index.js","mtime":1699554827558},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js","mtime":1699554827697}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi4vbWFpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWVldGluZyIsCiAgcHJvcHM6IFsibWVldGluZ0lEIiwgInVzZXIiLCAiZ29pbmciLCAibWF5YmUiLCAibm90R29pbmciXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0aW9uOiB0aGlzLmludGlhbFNlbGVjdGlvbigpLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGludGlhbFNlbGVjdGlvbjogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBnb2luZ1VzZXJuYW1lcyA9IHRoaXMuZ29pbmcKICAgICAgICA/IHRoaXMuZ29pbmcubWFwKCh1KSA9PiB1LnVzZXJuYW1lKQogICAgICAgIDogW107CiAgICAgIGNvbnN0IG1heWJlVXNlcm5hbWVzID0gdGhpcy5tYXliZQogICAgICAgID8gdGhpcy5tYXliZS5tYXAoKHUpID0+IHUudXNlcm5hbWUpCiAgICAgICAgOiBbXTsKICAgICAgY29uc3Qgbm90R29pbmdVc2VybmFtZXMgPSB0aGlzLm5vdEdvaW5nCiAgICAgICAgPyB0aGlzLm5vdEdvaW5nLm1hcCgodSkgPT4gdS51c2VybmFtZSkKICAgICAgICA6IFtdOwogICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMuJGNvb2tpZS5nZXQoImF1dGgtdXNlcm5hbWUiKTsKICAgICAgaWYgKGdvaW5nVXNlcm5hbWVzLmluY2x1ZGVzKHVzZXJuYW1lKSkgewogICAgICAgIHJldHVybiAwOwogICAgICB9IGVsc2UgaWYgKG1heWJlVXNlcm5hbWVzLmluY2x1ZGVzKHVzZXJuYW1lKSkgewogICAgICAgIHJldHVybiAxOwogICAgICB9IGVsc2UgaWYgKG5vdEdvaW5nVXNlcm5hbWVzLmluY2x1ZGVzKHVzZXJuYW1lKSkgewogICAgICAgIHJldHVybiAyOwogICAgICB9CiAgICAgIHRoaXMucnN2cE5vdEdvaW5nKCk7CiAgICAgIHJldHVybiAyOyAvLyBkZWZhdWx0IHRvIG5vdCBnb2luZyAobWFuZGF0b3J5KQogICAgfSwKICAgIHJzdnBHb2luZzogZnVuY3Rpb24gKCkgewogICAgICBheGlvcwogICAgICAgIC5wYXRjaChgL2FwaS9tZWV0aW5ncy8ke3RoaXMubWVldGluZ0lEfS9yc3ZwYCwgewogICAgICAgICAgZ29pbmdJZDogdGhpcy51c2VyLl9pZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJjaGFuZ2VkLXJzdnAiKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJlcnJvci1tc2ciLCB7CiAgICAgICAgICAgIGVycm9yTXNnOiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yLAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgcnN2cE1heWJlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBhdGNoKGAvYXBpL21lZXRpbmdzLyR7dGhpcy5tZWV0aW5nSUR9L3JzdnBgLCB7CiAgICAgICAgICBtYXliZUlkOiB0aGlzLnVzZXIuX2lkLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgZXZlbnRCdXMuJGVtaXQoImNoYW5nZWQtcnN2cCIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgZXZlbnRCdXMuJGVtaXQoImVycm9yLW1zZyIsIHsKICAgICAgICAgICAgZXJyb3JNc2c6IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICByc3ZwTm90R29pbmc6IGZ1bmN0aW9uICgpIHsKICAgICAgYXhpb3MKICAgICAgICAucGF0Y2goYC9hcGkvbWVldGluZ3MvJHt0aGlzLm1lZXRpbmdJRH0vcnN2cGAsIHsKICAgICAgICAgIG5vdEdvaW5nSWQ6IHRoaXMudXNlci5faWQsCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBldmVudEJ1cy4kZW1pdCgiY2hhbmdlZC1yc3ZwIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICBldmVudEJ1cy4kZW1pdCgiZXJyb3ItbXNnIiwgewogICAgICAgICAgICBlcnJvck1zZzogZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciwKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["MeetingRSVP.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MeetingRSVP.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-chip-group\n    v-if=\"!user.is_admin\"\n    v-model=\"selection\"\n    active-class=\"blue lighten-1 white--text\"\n    mandatory\n    style=\"justify-content: center\"\n  >\n    <div class=\"flex-row\" style=\"justify-content: center; gap: 6px\">\n      <v-chip @click=\"rsvpGoing\" style=\"margin-right: 0\">Going</v-chip>\n      <v-chip @click=\"rsvpMaybe\" style=\"margin-right: 0\">Maybe</v-chip>\n      <v-chip @click=\"rsvpNotGoing\" style=\"margin-right: 0\">Not Going</v-chip>\n    </div>\n  </v-chip-group>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\nexport default {\n  name: \"Meeting\",\n  props: [\"meetingID\", \"user\", \"going\", \"maybe\", \"notGoing\"],\n  data() {\n    return {\n      selection: this.intialSelection(),\n    };\n  },\n  methods: {\n    intialSelection: function () {\n      const goingUsernames = this.going\n        ? this.going.map((u) => u.username)\n        : [];\n      const maybeUsernames = this.maybe\n        ? this.maybe.map((u) => u.username)\n        : [];\n      const notGoingUsernames = this.notGoing\n        ? this.notGoing.map((u) => u.username)\n        : [];\n      const username = this.$cookie.get(\"auth-username\");\n      if (goingUsernames.includes(username)) {\n        return 0;\n      } else if (maybeUsernames.includes(username)) {\n        return 1;\n      } else if (notGoingUsernames.includes(username)) {\n        return 2;\n      }\n      this.rsvpNotGoing();\n      return 2; // default to not going (mandatory)\n    },\n    rsvpGoing: function () {\n      axios\n        .patch(`/api/meetings/${this.meetingID}/rsvp`, {\n          goingId: this.user._id,\n        })\n        .then(() => {\n          eventBus.$emit(\"changed-rsvp\");\n        })\n        .catch((error) => {\n          eventBus.$emit(\"error-msg\", {\n            errorMsg: error.response.data.error,\n          });\n        });\n    },\n    rsvpMaybe: function () {\n      axios\n        .patch(`/api/meetings/${this.meetingID}/rsvp`, {\n          maybeId: this.user._id,\n        })\n        .then(() => {\n          eventBus.$emit(\"changed-rsvp\");\n        })\n        .catch((error) => {\n          eventBus.$emit(\"error-msg\", {\n            errorMsg: error.response.data.error,\n          });\n        });\n    },\n    rsvpNotGoing: function () {\n      axios\n        .patch(`/api/meetings/${this.meetingID}/rsvp`, {\n          notGoingId: this.user._id,\n        })\n        .then(() => {\n          eventBus.$emit(\"changed-rsvp\");\n        })\n        .catch((error) => {\n          eventBus.$emit(\"error-msg\", {\n            errorMsg: error.response.data.error,\n          });\n        });\n    },\n  },\n};\n</script>\n\n<style>\n.v-slide-group__content {\n  justify-content: center;\n}\n/* ::v-deep .v-slide-group__content {\n  justify-content: center;\n} */\n</style>\n"]}]}