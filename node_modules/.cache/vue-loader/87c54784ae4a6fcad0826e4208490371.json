{"remainingRequest":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zachjohnson/Desktop/Projects/Committed Unity/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/src/App.vue","mtime":1699554717786},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/babel-loader/lib/index.js","mtime":1699554827558},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js","mtime":1699554827697}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiLi9tYWluIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBwIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc25hY2tiYXI6IHsKICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICBtZXNzYWdlOiBudWxsLAogICAgICAgIGNvbG9yOiBudWxsLAogICAgICB9LAogICAgICBlcnJvck1zZzogIiIsCiAgICAgIHN1Y2Nlc3NNc2c6ICIiLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICBheGlvcwogICAgICAuZ2V0KCIvYXBpL3VzZXJzL3Nlc3Npb24iKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zaWduZWRJbiA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuJGNvb2tpZS5zZXQoImF1dGgtdXNlcm5hbWUiLCAiIik7CiAgICAgICAgfQogICAgICB9KQogICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgLy8gdGhpcy5lcnJvck1zZyA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgdGhpcy5zbmFja2JhciA9IHsKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IsCiAgICAgICAgICBjb2xvcjogImVycm9yIiwKICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgfSk7CgogICAgZXZlbnRCdXMuJG9uKCJlcnJvci1tc2ciLCAoZGF0YSkgPT4gewogICAgICB0aGlzLnNuYWNrYmFyID0gewogICAgICAgIG1lc3NhZ2U6IGRhdGEuZXJyb3JNc2csCiAgICAgICAgY29sb3I6ICJlcnJvciIsCiAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgfTsKICAgICAgdGhpcy5lcnJvck1zZyA9IGRhdGEuZXJyb3JNc2c7CiAgICB9KTsKICAgIGV2ZW50QnVzLiRvbigic3VjY2Vzcy1tc2ciLCAoZGF0YSkgPT4gewogICAgICB0aGlzLnNuYWNrYmFyID0gewogICAgICAgIG1lc3NhZ2U6IGRhdGEuc3VjY2Vzc01zZywKICAgICAgICBjb2xvcjogImdyZXkiLAogICAgICAgIHNob3c6IHRydWUsCiAgICAgIH07CiAgICAgIHRoaXMuc3VjY2Vzc01zZyA9IGRhdGEuc3VjY2Vzc01zZzsKICAgIH0pOwogICAgZXZlbnRCdXMuJG9uKCJzaWduZWQtaW4iLCAoZGF0YSkgPT4gewogICAgICB0aGlzLiRjb29raWUuc2V0KCJhdXRoLXVzZXJuYW1lIiwgZGF0YS51c2VybmFtZSk7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lICE9PSAiTWFpbiIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJNYWluIiB9KTsKICAgICAgfQogICAgfSk7CiAgICBldmVudEJ1cy4kb24oInNpZ25lZC1vdXQiLCAoKSA9PiB7CiAgICAgIHRoaXMuJGNvb2tpZS5zZXQoImF1dGgtdXNlcm5hbWUiLCAiIik7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lICE9PSAic2lnbkluIikgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogInNpZ25JbiIgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczoge30sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container fluid class=\"pa-0\" id=\"app\">\n        <v-snackbar\n          v-if=\"snackbar.message\"\n          v-model=\"snackbar.show\"\n          timeout=\"3000\"\n        >\n          {{ snackbar.message }}\n          <template v-slot:action=\"{ attrs }\">\n            <v-btn\n              v-if=\"errorMsg\"\n              color=\"pink\"\n              text\n              v-bind=\"attrs\"\n              @click=\"snackbar = false\"\n            >\n              Close\n            </v-btn>\n            <v-btn\n              v-else-if=\"successMsg\"\n              color=\"success\"\n              text\n              v-bind=\"attrs\"\n              @click=\"snackbar = false\"\n            >\n              Close\n            </v-btn>\n          </template>\n        </v-snackbar>\n        <router-view />\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"./main\";\n\nexport default {\n  name: \"app\",\n  components: {},\n  data() {\n    return {\n      snackbar: {\n        show: false,\n        message: null,\n        color: null,\n      },\n      errorMsg: \"\",\n      successMsg: \"\",\n    };\n  },\n  computed: {},\n  created: function () {\n    axios\n      .get(\"/api/users/session\")\n      .then((response) => {\n        if (response.data.signedIn === false) {\n          this.$cookie.set(\"auth-username\", \"\");\n        }\n      })\n      .catch((error) => {\n        // this.errorMsg = error.response.data.error;\n        this.snackbar = {\n          message: error.response.data.error,\n          color: \"error\",\n          show: true,\n        };\n        this.errorMsg = error.response.data.error;\n      });\n\n    eventBus.$on(\"error-msg\", (data) => {\n      this.snackbar = {\n        message: data.errorMsg,\n        color: \"error\",\n        show: true,\n      };\n      this.errorMsg = data.errorMsg;\n    });\n    eventBus.$on(\"success-msg\", (data) => {\n      this.snackbar = {\n        message: data.successMsg,\n        color: \"grey\",\n        show: true,\n      };\n      this.successMsg = data.successMsg;\n    });\n    eventBus.$on(\"signed-in\", (data) => {\n      this.$cookie.set(\"auth-username\", data.username);\n      if (this.$route.name !== \"Main\") {\n        this.$router.push({ name: \"Main\" });\n      }\n    });\n    eventBus.$on(\"signed-out\", () => {\n      this.$cookie.set(\"auth-username\", \"\");\n      if (this.$route.name !== \"signIn\") {\n        this.$router.push({ name: \"signIn\" });\n      }\n    });\n  },\n  methods: {},\n};\n</script>\n\n<style></style>\n"]}]}