{"remainingRequest":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zachjohnson/Desktop/Projects/Committed Unity/src/components/MeetingStatusPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/src/components/MeetingStatusPanel.vue","mtime":1699554717791},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/babel-loader/lib/index.js","mtime":1699554827558},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/cache-loader/dist/cjs.js","mtime":1699554827551},{"path":"/Users/zachjohnson/Desktop/Projects/Committed Unity/node_modules/vue-loader/lib/index.js","mtime":1699554827697}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lZXRpbmdTdGF0dXNQYW5lbCIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIGdvaW5nOiBBcnJheSwKICAgIG1heWJlOiBBcnJheSwKICAgIG5vdEdvaW5nOiBBcnJheSwKICAgIGF0dGVuZGVlczogQXJyYXksCiAgICBob3N0X2lkOiBTdHJpbmcsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9nZ2VkSW5BY2NvdW50OiB0aGlzLiRjb29raWUuZ2V0KCJhdXRoLXVzZXJuYW1lIiksCiAgICAgIHVzZXI6ICIiLAogICAgICBiYWRnZUNvbG9yczogeyBHb2xkOiAiI0ZGRDcwMCIsIFNpbHZlcjogIiNDMEMwQzAiLCBCcm9uemU6ICIjQ0Q3RjMyIiB9LAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpdGVtczogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBub25lID0gWwogICAgICAgIHsKICAgICAgICAgIGlkOiA1LAogICAgICAgICAgbmFtZTogIk5vbmUiLAogICAgICAgICAgaXNBZG1pbjogZmFsc2UsCiAgICAgICAgICBiYWRnZXM6IFtdLAogICAgICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgICAgIGxhc3ROYW1lOiAiIiwKICAgICAgICB9LAogICAgICBdOwogICAgICBsZXQgdHJlZSA9IFsKICAgICAgICB7CiAgICAgICAgICBpZDogMSwKICAgICAgICAgIG5hbWU6ICJHb2luZyIsCiAgICAgICAgICBjaGlsZHJlbjoKICAgICAgICAgICAgdGhpcy5nb2luZyAmJiB0aGlzLmdvaW5nLmxlbmd0aCAhPT0gMAogICAgICAgICAgICAgID8gdGhpcy5nb2luZy5tYXAoKHUpID0+IHRoaXMuY29udmVydFVzZXJUb1RyZWVTdHJ1Y3QodSkpCiAgICAgICAgICAgICAgOiBub25lLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaWQ6IDIsCiAgICAgICAgICBuYW1lOiAiTWF5YmUiLAogICAgICAgICAgY2hpbGRyZW46CiAgICAgICAgICAgIHRoaXMubWF5YmUgJiYgdGhpcy5tYXliZS5sZW5ndGggIT09IDAKICAgICAgICAgICAgICA/IHRoaXMubWF5YmUubWFwKCh1KSA9PiB0aGlzLmNvbnZlcnRVc2VyVG9UcmVlU3RydWN0KHUpKQogICAgICAgICAgICAgIDogbm9uZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGlkOiAzLAogICAgICAgICAgbmFtZTogIk5vdCBHb2luZyIsCiAgICAgICAgICBjaGlsZHJlbjoKICAgICAgICAgICAgdGhpcy5ub3RHb2luZyAmJiB0aGlzLm5vdEdvaW5nLmxlbmd0aCAhPT0gMAogICAgICAgICAgICAgID8gdGhpcy5ub3RHb2luZy5tYXAoKHUpID0+IHRoaXMuY29udmVydFVzZXJUb1RyZWVTdHJ1Y3QodSkpCiAgICAgICAgICAgICAgOiBub25lLAogICAgICAgIH0sCiAgICAgIF07CiAgICAgIGlmICh0aGlzLnVzZXIuX2lkID09PSB0aGlzLmhvc3RfaWQpIHsKICAgICAgICB0cmVlLnB1c2goewogICAgICAgICAgaWQ6IDQsCiAgICAgICAgICBuYW1lOiAiQXR0ZW5kZWVzIiwKICAgICAgICAgIGNoaWxkcmVuOgogICAgICAgICAgICB0aGlzLmF0dGVuZGVlcyAmJiB0aGlzLmF0dGVuZGVlcy5sZW5ndGggIT09IDAKICAgICAgICAgICAgICA/IHRoaXMuYXR0ZW5kZWVzLm1hcCgodSkgPT4gdGhpcy5jb252ZXJ0VXNlclRvVHJlZVN0cnVjdCh1KSkKICAgICAgICAgICAgICA6IG5vbmUsCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRyZWU7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlcigpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGAvYXBpL3VzZXJzLyR7dGhpcy5sb2dnZWRJbkFjY291bnR9YCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMudXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy51c2VyID0gIiI7CiAgICAgICAgfSk7CiAgICB9LAogICAgY29udmVydFVzZXJUb1RyZWVTdHJ1Y3QodXNlcikgewogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6ICJAIiArIHVzZXIudXNlcm5hbWUsCiAgICAgICAgaXNBZG1pbjogdXNlci5pc19hZG1pbiwKICAgICAgICBiYWRnZXM6IHVzZXIuYmFkZ2VzLAogICAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdF9uYW1lLAogICAgICAgIGxhc3ROYW1lOiB1c2VyLmxhc3RfbmFtZSwKICAgICAgfTsKICAgIH0sCiAgICBpbml0aWFsczogZnVuY3Rpb24gKGZpcnN0TmFtZSwgbGFzdE5hbWUpIHsKICAgICAgaWYgKGZpcnN0TmFtZSAmJiBsYXN0TmFtZSkgewogICAgICAgIHJldHVybiBmaXJzdE5hbWVbMF0udG9VcHBlckNhc2UoKSArIGxhc3ROYW1lWzBdLnRvVXBwZXJDYXNlKCk7CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZ2V0VXNlcigpOwogIH0sCn07Cg=="},{"version":3,"sources":["MeetingStatusPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MeetingStatusPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-treeview dense :items=\"items\" open-on-click>\n    <template v-slot:prepend=\"{ item }\">\n      <div v-if=\"!item.children\">\n        <!-- If they are not an admin and have a badge (badge[0] !== None and it is truthy) -->\n        <v-badge\n          left\n          v-if=\"\n            !item.isAdmin &&\n            item.name !== 'None' &&\n            item.badges[0] !== 'None' &&\n            item.badges[0]\n          \"\n          icon=\"mdi-trophy\"\n          bordered\n          overlap\n          :color=\"badgeColors[item.badges[0]]\"\n        >\n          <v-avatar color=\"blue darken-1\" size=\"36\" class=\"white--text text-h7\">\n            {{ initials(item.firstName, item.lastName) }}\n          </v-avatar>\n        </v-badge>\n        <!-- If they are not an admin and don't have a badge -->\n        <v-avatar\n          color=\"blue darken-1\"\n          size=\"36\"\n          class=\"white--text text-h7\"\n          v-if=\"\n            !item.isAdmin &&\n            item.name !== 'None' &&\n            (!item.badges[0] || item.badges[0] === 'None')\n          \"\n        >\n          {{ initials(item.firstName, item.lastName) }}\n        </v-avatar>\n        <!-- If they are an admin and don't have a badge \n        (i don't think this should ever run because admin can't RSVP) -->\n        <v-badge\n          left\n          v-if=\"item.isAdmin\"\n          icon=\"mdi-wrench\"\n          bordered\n          overlap\n          color=\"grey darken-1\"\n        >\n          <v-avatar color=\"blue darken-1\" size=\"36\" class=\"white--text text-h7\">\n            {{ initials(item.firstName, item.lastName) }}\n          </v-avatar>\n        </v-badge>\n      </div>\n      <!-- <v-avatar\n        v-if=\"item.is_admin && !item.children\"\n        color=\"secondary\"\n        size=\"36\"\n        class=\"white--text text-h7\"\n        >{{ initials(item.firstName, item.lastName) }}\n      </v-avatar> -->\n    </template>\n  </v-treeview>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"MeetingStatusPanel\",\n  components: {},\n  props: {\n    going: Array,\n    maybe: Array,\n    notGoing: Array,\n    attendees: Array,\n    host_id: String,\n  },\n  data() {\n    return {\n      loggedInAccount: this.$cookie.get(\"auth-username\"),\n      user: \"\",\n      badgeColors: { Gold: \"#FFD700\", Silver: \"#C0C0C0\", Bronze: \"#CD7F32\" },\n    };\n  },\n  computed: {\n    items: function () {\n      const none = [\n        {\n          id: 5,\n          name: \"None\",\n          isAdmin: false,\n          badges: [],\n          firstName: \"\",\n          lastName: \"\",\n        },\n      ];\n      let tree = [\n        {\n          id: 1,\n          name: \"Going\",\n          children:\n            this.going && this.going.length !== 0\n              ? this.going.map((u) => this.convertUserToTreeStruct(u))\n              : none,\n        },\n        {\n          id: 2,\n          name: \"Maybe\",\n          children:\n            this.maybe && this.maybe.length !== 0\n              ? this.maybe.map((u) => this.convertUserToTreeStruct(u))\n              : none,\n        },\n        {\n          id: 3,\n          name: \"Not Going\",\n          children:\n            this.notGoing && this.notGoing.length !== 0\n              ? this.notGoing.map((u) => this.convertUserToTreeStruct(u))\n              : none,\n        },\n      ];\n      if (this.user._id === this.host_id) {\n        tree.push({\n          id: 4,\n          name: \"Attendees\",\n          children:\n            this.attendees && this.attendees.length !== 0\n              ? this.attendees.map((u) => this.convertUserToTreeStruct(u))\n              : none,\n        });\n      }\n      return tree;\n    },\n  },\n  methods: {\n    getUser() {\n      axios\n        .get(`/api/users/${this.loggedInAccount}`)\n        .then((response) => {\n          this.user = response.data;\n        })\n        .catch(() => {\n          this.user = \"\";\n        });\n    },\n    convertUserToTreeStruct(user) {\n      return {\n        name: \"@\" + user.username,\n        isAdmin: user.is_admin,\n        badges: user.badges,\n        firstName: user.first_name,\n        lastName: user.last_name,\n      };\n    },\n    initials: function (firstName, lastName) {\n      if (firstName && lastName) {\n        return firstName[0].toUpperCase() + lastName[0].toUpperCase();\n      }\n      return \"\";\n    },\n  },\n  mounted: function () {\n    this.getUser();\n  },\n};\n</script>\n\n<style>\n.v-treeview-node__root .v-treeview-node__prepend {\n  min-width: 0;\n}\n</style>\n"]}]}